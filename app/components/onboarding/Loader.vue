<template>
  <div
    class="h-dvh flex flex-col relative overflow-hidden"
    :style="{
      backgroundImage: 'url(/pattern-bg.svg)',
      backgroundSize: 'cover',
      backgroundPosition: 'center',
    }"
  >
    <!-- Content wrapper -->
    <div class="flex-1 overflow-hidden">
      <div class="h-full w-full flex flex-col px-6 max-w-2xl mx-auto">
        <!-- Logo - Fixed position at top -->
        <div class="pt-10 flex justify-center shrink-0">
          <div class="w-48 sm:w-52">
            <img
              src="/logo.svg"
              alt="Yum'me logo"
              class="w-full h-auto object-contain"
              loading="eager"
            />
          </div>
        </div>

        <!-- Content - Centered in remaining space -->
        <div class="flex-1 flex flex-col items-center justify-center space-y-6">
          <!-- Mascotte with Animated Fill -->
          <div class="w-72 sm:w-80">
            <svg
              width="326"
              height="253"
              viewBox="0 0 326 253"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="w-full h-full"
            >
              <!-- Définition du clipPath pour l'animation de remplissage -->
              <defs>
                <clipPath id="fill-clip">
                  <rect :x="0" :y="fillY" :width="326" :height="fillHeight" />
                </clipPath>
              </defs>

              <!-- Petites étoiles jaunes (sans animation) -->
              <path
                d="M325.384 122.074C325.837 120.489 323.537 118.354 319.826 116.586C319.103 116.238 318.677 115.48 318.772 114.679C319.252 110.593 318.659 107.51 317.074 107.057C315.489 106.604 313.354 108.903 311.586 112.614C311.238 113.337 310.48 113.764 309.679 113.668C305.593 113.189 302.51 113.781 302.057 115.367C301.604 116.952 303.903 119.086 307.614 120.854C308.337 121.203 308.764 121.961 308.668 122.762C308.189 126.847 308.781 129.931 310.367 130.384C311.952 130.837 314.086 128.537 315.854 124.826C316.203 124.103 316.961 123.677 317.762 123.772C321.839 124.252 324.922 123.659 325.384 122.074Z"
                fill="#F9C846"
              />
              <path
                d="M23.3839 188.074C23.8368 186.489 21.5372 184.354 17.8264 182.586C17.1035 182.238 16.6766 181.48 16.7725 180.679C17.2516 176.593 16.6592 173.51 15.0739 173.057C13.4886 172.604 11.3544 174.903 9.58616 178.614C9.23773 179.337 8.4799 179.764 7.67852 179.668C3.59321 179.189 0.509628 179.781 0.0566732 181.367C-0.396282 182.952 1.90334 185.086 5.61409 186.854C6.33708 187.203 6.76389 187.961 6.66807 188.762C6.18899 192.847 6.78132 195.931 8.36667 196.384C9.95201 196.837 12.0861 194.537 13.8544 190.826C14.2028 190.103 14.9606 189.677 15.762 189.772C19.8386 190.252 22.9222 189.659 23.3839 188.074Z"
                fill="#F9C846"
              />

              <!-- Petite étoile bleue et cercle (sans animation) -->
              <path
                d="M231.752 9.30999C231.404 7.69851 228.364 6.90584 224.252 7.1149C223.451 7.15845 222.719 6.68807 222.423 5.93896C220.899 2.11497 218.913 -0.31531 217.31 0.033117C215.699 0.381544 214.906 3.42157 215.115 7.53301C215.158 8.33439 214.688 9.06609 213.939 9.36225C210.115 10.8866 207.685 12.8727 208.033 14.4754C208.382 16.0869 211.422 16.8796 215.533 16.6705C216.334 16.627 217.066 17.0973 217.362 17.8465C218.887 21.6704 220.873 24.1007 222.475 23.7523C224.087 23.4039 224.88 20.3638 224.671 16.2524C224.627 15.451 225.097 14.7193 225.846 14.4232C229.67 12.9075 232.101 10.9215 231.752 9.30999Z"
                fill="#003459"
              />
              <path
                d="M45 55C50.5228 55 55 50.5228 55 45C55 39.4771 50.5228 35 45 35C39.4772 35 35 39.4771 35 45C35 50.5228 39.4772 55 45 55Z"
                fill="#003459"
              />

              <!-- Le grand background jaune avec clipPath animé -->
              <path
                d="M79.8067 57.2765C92.3153 24.0539 116.897 17.9913 130.616 18C170.25 18.0087 185.554 30.9615 211.016 60.0987C234.892 87.4241 251.93 83.304 265.64 93.7916C287.992 110.899 300.692 169.958 257.391 206.072C196.007 257.282 156.574 260.392 103.526 243.859C67.7512 232.71 37.769 202.24 37.046 168.503C35.6523 103.321 66.2791 93.208 79.8067 57.2765Z"
                fill="#F9C846"
                :clip-path="isReady ? 'none' : 'url(#fill-clip)'"
              />

              <!-- Tous les autres éléments de la mascotte (personnage, etc.) -->
              <g clip-path="url(#clip0_163_1857)">
                <path
                  opacity="0.2"
                  d="M231.335 108.579C227.056 98.741 221.881 87.529 211.103 82.923C210.732 82.7646 210.34 82.7171 209.968 82.7607C205.037 78.2418 199.578 74.2457 193.702 70.8754C191.746 69.7546 189.365 72.515 191.201 73.9843C194.54 76.6576 197.886 79.3468 200.861 82.3963C204.035 85.6478 206.362 89.2241 208.211 93.2954C210.067 97.3786 212.32 100.824 215.069 104.4C217.858 108.032 219.979 111.981 221.621 116.207C222.434 118.298 223.152 120.42 223.846 122.547C223.982 122.963 224.126 123.387 224.279 123.811C224.382 126.191 224.225 128.591 223.78 130.975C222.682 136.829 220.367 142.433 218.271 148.005C216.224 153.443 214.115 158.864 211.623 164.128C211.256 164.904 210.876 165.676 210.492 166.445C204.2 173.95 196.033 179.732 187.999 185.391C185.882 186.885 187.937 190.322 190.083 188.809C193.591 186.338 197.119 183.851 200.519 181.221C200.754 181.443 201.039 181.609 201.365 181.681C204.204 182.326 206.416 180.837 208.066 178.714C209.16 177.308 210.117 175.768 211.008 174.195C212.349 172.789 213.633 171.336 214.854 169.835C215.733 170.318 216.897 170.239 217.499 169.114C218.093 168.009 218.679 166.9 219.265 165.791C219.913 165.657 220.491 165.237 220.743 164.457C220.788 164.318 220.837 164.183 220.883 164.045C221.357 163.934 221.774 163.641 222.009 163.114C223.755 159.161 225.504 155.205 227.25 151.252C227.506 150.67 227.502 150.116 227.324 149.645C227.885 148.46 228.438 147.276 228.987 146.092C229.387 145.87 229.705 145.482 229.837 144.888C229.928 144.468 230.023 144.048 230.114 143.625C230.275 143.268 230.44 142.908 230.605 142.551C230.856 141.997 230.852 141.458 230.683 140.995C231.735 136.064 232.705 131.106 233.382 126.123C234.215 119.997 233.832 114.309 231.335 108.571V108.579Z"
                  fill="#003459"
                />
                <path
                  opacity="0.2"
                  d="M142.575 59.4692C129.692 58.6296 114.821 60.0989 103.683 67.1406C98.2447 70.5822 94.0852 75.6199 90.0124 80.4992C86.051 85.2477 82.2836 90.1943 79.1186 95.5053C72.7143 106.254 69.2646 118.317 71.3113 130.805C73.3952 143.53 80.5257 154.884 89.5379 163.957C99.0782 173.565 111.515 182.904 125.719 182.924C127.745 182.924 128.372 180.267 126.725 179.233C117.841 173.668 106.795 172.464 98.6119 165.66C91.0151 159.344 86.0263 150.421 81.5037 141.823C78.7266 136.547 77.1338 131.292 77.8889 125.292C78.5368 120.139 80.2781 115.022 82.2753 110.242C86.0758 101.141 91.6589 92.7726 98.1787 85.3665C101.806 81.2477 105.726 77.3863 109.865 73.7783C111.854 72.0436 113.896 70.3644 115.98 68.7446C116.331 68.4713 117.024 67.8535 117.854 67.1802C120.16 66.4198 122.537 65.8337 124.98 65.4455C125.743 65.3228 126.251 64.6534 126.395 63.9128C131.751 63.2079 137.174 63.0693 142.575 63.4218C145.142 63.5881 145.129 59.6277 142.575 59.4613V59.4692Z"
                  fill="#003459"
                />
                <path
                  opacity="0.2"
                  d="M131.97 214.441C126.598 214.093 121.225 214.136 115.869 214.56C115.943 212.893 116.306 211.257 116.636 209.625C117.297 206.362 117.825 203.15 117.173 199.843C116.636 197.118 115.336 194.512 113.653 192.279C105.532 181.506 91.238 179.696 80.9961 171.637C80.7073 171.411 80.406 171.276 80.0966 171.209C76.8325 166.924 73.7542 162.488 71.2536 157.751C69.7061 153.692 68.5796 149.446 67.5109 145.32C66.4628 141.276 65.654 137.24 64.9071 133.177C64.2799 126.46 64.1189 118.242 59.9182 112.507C57.9664 109.846 55.2759 107.644 52.2966 105.791C49.6475 102.971 46.7878 100.329 43.92 97.7113C43.3876 97.2241 42.7357 97.0934 42.1373 97.2043C41.2543 96.737 40.1277 96.832 39.583 97.9647C38.96 99.2677 38.3327 100.571 37.7096 101.874C37.1608 103.014 37.5611 104.42 38.9434 104.785C39.8348 105.018 40.6848 105.018 41.4523 104.84C44.4564 106.064 47.3408 107.557 50.0642 109.288C51.034 110.349 51.9665 111.438 52.8496 112.567C56.5428 117.292 58.8701 122.389 59.8604 128.222C60.2112 130.306 60.5702 132.397 60.9498 134.492C61.0488 135.795 61.1561 137.082 61.3006 138.337C62.097 145.316 63.7847 151.91 66.9373 158.262C67.1106 158.611 67.288 158.959 67.4696 159.308C67.7791 160.088 68.0968 160.868 68.4311 161.637C70.779 167.055 73.9935 172.092 78.6729 175.946C79.2589 176.429 80.0264 176.504 80.7073 176.318C80.926 176.465 81.1447 176.611 81.3675 176.754C81.2437 177.467 81.4748 178.243 82.2506 178.766C86.3069 181.498 90.4663 184.077 94.7496 186.473C98.6945 188.683 102.916 190.496 106.762 192.857C110.682 195.265 112.782 198.552 112.873 203.071C112.951 207.023 112.543 212.334 109.923 215.578C108.994 216.726 109.378 219.198 111.383 218.96C111.742 218.916 112.101 218.885 112.46 218.845C113.917 221.055 117.429 220.366 120.057 220.116C124.241 219.724 128.405 219.118 132.531 218.33C134.929 217.871 134.186 214.584 131.983 214.441H131.97Z"
                  fill="#003459"
                />
                <path
                  opacity="0.2"
                  d="M238.61 169.823C231.88 179.657 224.378 189.807 213.418 195.637C207.666 198.694 201.22 200.021 195.002 201.91C191.849 202.869 188.701 203.974 185.787 205.494C182.845 207.027 182.214 209.403 182.622 212.492C183.34 217.918 187.1 221.823 191.37 225.063L188.094 225.562C185.478 225.962 186.588 229.776 189.192 229.38L197.106 228.172C199.029 227.879 198.893 225.415 197.597 224.552C192.872 221.392 186.815 217.348 186.629 211.193C186.576 209.419 187.591 209.015 189.109 208.298C190.619 207.589 192.183 206.999 193.772 206.465C196.64 205.498 199.578 204.726 202.491 203.902C208.017 202.346 213.418 200.492 218.263 197.447C222.946 194.504 227.064 190.805 230.729 186.758C234.954 182.084 238.631 176.983 242.167 171.819C243.628 169.684 240.058 167.696 238.606 169.819L238.61 169.823Z"
                  fill="#003459"
                />
                <path
                  opacity="0.2"
                  d="M263.472 168.081C260.889 165.728 258.025 163.621 255.269 161.447C253.849 157.732 252.079 154.144 250.775 150.385C250.201 148.738 249.793 147.07 249.492 145.391C249.723 144.417 249.954 143.447 250.135 142.484C251.534 135.102 252.038 127.561 251.551 120.072C251.315 116.452 250.903 112.805 250.181 109.24C249.611 106.428 248.485 103.819 245.885 102.23C245.093 101.747 244.074 101.945 243.426 102.516C243.356 102.258 243.285 102.001 243.211 101.747C240.727 93.0976 236.964 85.2203 230.609 78.5549C227.283 75.0658 223.532 71.9766 219.727 68.9786C217.813 67.4696 215.878 65.9845 213.963 64.4756C212.321 63.1845 209.089 61.3389 209.007 59.0735C208.912 56.5309 204.786 56.519 204.881 59.0735C205.037 63.3548 209.217 65.8498 212.354 68.3013C215.845 71.0261 219.368 73.7153 222.703 76.6222C226.103 79.5886 229.338 82.7886 231.929 86.4441C234.678 90.3214 236.601 94.6145 238.082 99.07C241.202 108.44 242.914 118.254 243.298 128.08C243.492 132.991 243.356 137.914 242.885 142.805C242.654 145.197 242.345 147.581 241.944 149.954C241.532 152.393 240.715 154.932 241.565 157.364C242.312 159.502 244.181 161.403 245.737 163.043C247.412 164.809 249.252 166.409 251.221 167.871C255.066 170.73 259.585 173.075 261.995 177.3C262.312 177.863 263.088 178.35 263.777 178.283C264.293 178.231 264.809 178.184 265.325 178.132C266.546 178.013 267.231 177.312 267.388 176.152C267.817 172.932 265.795 170.203 263.472 168.089V168.081Z"
                  fill="#003459"
                />
                <path
                  d="M80.9672 142.528C79.2877 138.176 79.0649 133.13 79.1845 128.556C79.4651 117.954 82.7869 107.514 87.7964 98.1159C91.6547 90.8841 97.3863 84.4445 103.741 79.1335C117.305 67.7908 134.817 62.4521 152.714 63.2126C164.697 63.7195 176.14 66.7373 187.157 71.1493C202.297 77.2087 217.623 86.2742 226.288 100.049C228.661 103.823 230.452 107.89 231.537 112.179C231.818 113.28 232.041 114.389 232.239 115.506C232.247 115.554 232.375 116.389 232.317 115.973C232.268 115.625 232.371 116.425 232.387 116.591C232.437 117.074 232.474 117.558 232.507 118.041C233.097 127.201 231.418 136.493 228.686 145.241C227.584 148.77 226.284 152.235 224.811 155.633C224.667 155.966 224.522 156.299 224.378 156.631C224.225 156.98 224.597 156.16 224.431 156.509C223.982 157.475 223.499 158.421 222.979 159.356C220.804 163.245 218.114 166.865 215.027 170.132C204.014 181.792 188.548 187.82 172.24 188.022C164.515 188.117 157.125 186.739 149.578 185.404C144.601 184.525 139.687 183.277 134.863 181.808C117.651 176.568 100.799 167.97 89.0839 154.497C85.7951 150.714 83.0263 146.536 80.7856 142.104C79.7416 140.041 76.5395 141.847 77.5793 143.902C86.5915 161.709 103.947 173.752 122.566 181.253C133.282 185.57 144.523 188.311 155.945 190.228C175.207 193.459 195.229 190.79 210.798 178.845C217.862 173.424 224.072 166.208 227.696 158.192C232.057 148.544 235.036 138.275 236.019 127.784C236.559 121.997 236.485 116.227 234.954 110.583C230.283 93.3238 215.312 80.9553 199.508 72.8404C190.458 68.1948 180.625 64.3492 170.618 62.068C150.259 57.4303 128.413 59.1214 110.451 69.9453C100.465 75.9612 91.7908 84.4049 85.8199 94.1871C77.7155 107.463 73.3208 124.429 76.3909 139.724C76.6426 140.984 76.9274 142.271 77.3937 143.479C78.2189 145.609 81.809 144.691 80.9754 142.532L80.9672 142.528Z"
                  fill="#003459"
                />
                <path
                  d="M66.6031 98.2384C73.7914 79.6362 90.6892 65.3667 108.681 56.4676C126.672 47.5685 147.841 43.6873 168.196 46.3764C180.291 47.9725 191.016 51.6597 201.423 57.4142C215.589 65.244 228.104 76.0441 236.848 89.3709C248.27 106.781 252.574 127.744 249.9 148.084C249.653 149.954 249.302 151.76 248.807 153.585C248.204 155.807 251.786 156.754 252.388 154.532C254.687 146.053 254.819 136.702 254.035 128.025C252.978 116.357 249.681 104.931 244.148 94.4878C235.953 79.0144 222.963 66.2539 207.786 56.9508C198.216 51.0854 187.946 46.6418 176.845 44.2695C155.673 39.7427 133.439 42.111 113.575 50.325C94.0317 58.4082 75.4998 72.3886 65.8728 90.9472C64.804 93.0106 63.8591 95.1334 63.0255 97.2918C62.192 99.4503 65.782 100.373 66.6073 98.2384H66.6031Z"
                  fill="#003459"
                />
                <path
                  d="M241.003 171.146C237.876 176.018 234.174 180.493 229.916 184.501C225.682 188.481 221.597 192.453 216.711 195.725C207.641 201.796 197.267 205.717 186.394 207.535C185.391 207.701 184.871 208.866 185.098 209.729C186.712 215.899 190.797 222.533 197.011 225.218C198.753 225.971 201.063 223.777 199.26 222.418L199.207 222.379L197.894 225.42C197.193 225.389 198.183 225.571 198.225 225.575L198.493 225.701C198.901 225.998 198.901 225.848 198.489 225.254C198.224 225.266 197.362 226.006 197.011 226.141C196.512 226.335 195.984 226.478 195.464 226.62C192.691 227.373 189.786 227.587 186.926 227.262C182.924 226.806 179.094 225.325 175.682 223.301C172.269 221.278 170.264 218.846 168.687 215.357C167.02 211.666 164.528 208.458 161.198 205.986C155.375 201.669 147.011 199.531 140.268 203.198C136.683 205.151 134.071 208.549 133.068 212.375C132.795 213.416 132.795 214.394 132.692 215.436C132.42 218.248 129.218 217.975 126.94 218.212C124.254 218.493 121.555 218.648 118.852 218.664C117.466 218.672 116.079 218.648 114.693 218.584C113.57 218.537 112.147 218.66 111.074 218.331C108.879 217.662 112.048 216.327 112.605 215.559C113.426 214.422 113.938 212.838 114.338 211.523C116.69 203.8 113.657 195.717 107.17 190.786C104.389 188.671 101.063 187.234 98.0549 185.444C92.7937 182.315 87.7594 178.822 83.1006 174.909C76.5891 169.439 70.7006 163.126 66.6608 155.736C61.8783 146.988 60.9705 137.114 61.1066 127.376C61.1397 125.083 57.4258 125.079 57.3928 127.376C57.2649 136.675 58.0737 146.196 62.0599 154.778C65.4724 162.124 70.8162 168.592 76.7954 174.172C81.9824 179.012 87.7511 183.289 93.8088 187.075C97.0934 189.127 100.696 190.751 103.914 192.877C107.133 195.004 109.518 197.911 110.661 201.333C111.429 203.634 111.647 206.085 111.255 208.473C111.008 209.967 110.562 212.474 109.452 213.662C109.931 213.151 108.631 213.99 108.619 213.998C108.272 214.264 107.987 214.525 107.707 214.85C107.158 215.491 106.778 216.228 106.613 217.04C106.196 219.072 107.443 220.834 109.399 221.547C111.136 222.181 113.211 222.089 115.048 222.161C118.308 222.291 121.576 222.224 124.831 221.967C129.346 221.61 135.329 221.824 136.303 216.406C136.542 215.083 136.377 214.232 136.749 212.953C137.355 210.885 138.535 209.016 140.211 207.586C147.407 201.424 158.569 206.561 163.269 213.178C165.939 216.937 166.95 221.341 170.779 224.351C173.878 226.787 177.687 228.616 181.5 229.749C187.017 231.393 193.768 231.602 199.091 229.163C200.94 228.315 203.011 226.335 202.029 224.22C201.385 222.834 199.425 221.919 197.89 221.848C196.355 221.777 195.295 223.923 196.578 224.889L196.632 224.929L198.881 222.129C193.479 219.796 190.075 214.129 188.676 208.771L187.38 210.965C198.794 209.056 209.799 204.826 219.245 198.351C224.201 194.953 228.426 190.917 232.742 186.83C237.059 182.743 240.975 177.986 244.214 172.94C245.472 170.984 242.262 169.19 241.008 171.142L241.003 171.146Z"
                  fill="#003459"
                />
                <path
                  d="M57.6363 127.538C57.6363 127.538 57.9128 121.799 56.0518 118.773L57.5084 119.486L60.2855 126.71L57.6363 127.538Z"
                  fill="#003459"
                  stroke="#003459"
                  stroke-miterlimit="10"
                />
                <path
                  d="M62.5013 103.533C62.5013 103.533 65.1876 102.915 69.0788 91.8417L67.1353 91.4893L61.9648 102.539L62.4972 103.529L62.5013 103.533Z"
                  fill="#003459"
                  stroke="#003459"
                  stroke-miterlimit="10"
                />
                <path
                  d="M249.533 153.791C249.533 153.791 249.009 154.029 249.108 154.544C249.058 154.544 249.549 156.512 256.457 162.552L254.064 156.944L249.533 153.787V153.791Z"
                  fill="#003459"
                  stroke="#003459"
                  stroke-miterlimit="10"
                />
                <path
                  d="M149.173 110.27C149.173 110.27 147.292 127.122 140.005 134.956C139.084 135.946 136.79 138.413 133.831 138.314C133.831 138.314 132.804 138.279 131.772 137.831C128.29 136.31 120.973 124.445 122.1 105.625C122.554 98.0207 123.239 88.8166 129.919 84.1948C130.893 83.5215 134.128 81.2839 138.164 81.7868C142.691 82.3532 145.423 86.0206 146.487 87.4542C150.948 93.4464 150.275 100.433 149.173 110.27Z"
                  fill="#003459"
                  stroke="#1D1D1B"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                />
                <path
                  d="M194.936 116.758C194.861 120.508 194.54 137.229 183.737 143.412C182.288 144.239 180.947 144.984 179.21 144.833C171.543 144.168 165.597 126.964 166.657 112.54C166.764 111.063 168.452 90.9517 178.979 88.2427C179.552 88.0962 181.574 87.6011 183.931 88.2784C193.207 90.9477 195.109 108.191 194.944 116.762L194.936 116.758Z"
                  fill="#003459"
                  stroke="#1D1D1B"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                />
                <path
                  d="M121.951 108.353C121.951 108.353 121.877 107.015 122.224 103.221L127.774 106.726L121.951 108.353Z"
                  fill="white"
                  stroke="white"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                />
                <path
                  d="M166.496 115.217C166.455 114.939 166.405 114.551 166.397 114.084C166.389 113.521 166.434 113.094 166.492 112.658C166.575 112.017 166.703 111.149 166.901 110.096C168.72 111.308 170.536 112.519 172.356 113.731L166.492 115.217H166.496Z"
                  fill="white"
                  stroke="white"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                />
                <path
                  d="M183.501 92.9746C185.036 94.0637 186.043 95.7231 186.637 97.4618C187.232 99.2004 187.442 101.038 187.652 102.856"
                  fill="#003459"
                />
                <path
                  d="M182.045 94.3771C184.76 96.4919 185.226 99.7038 185.593 102.86C185.886 105.363 190.013 105.395 189.72 102.86C189.237 98.7217 188.54 94.3612 184.962 91.577C182.915 89.9849 179.981 92.7691 182.045 94.3771Z"
                  fill="white"
                />
                <path
                  d="M139.959 87.2881C142.951 90.2307 144.441 94.5198 143.888 98.5991L139.959 87.2881Z"
                  fill="#003459"
                />
                <path
                  d="M138.498 88.6861C141.139 91.4109 142.229 94.9198 141.824 98.5951C141.544 101.126 145.674 101.106 145.951 98.5951C146.471 93.8901 144.754 89.3277 141.416 85.8861C139.604 84.0167 136.691 86.8207 138.498 88.6861Z"
                  fill="white"
                />
                <path
                  d="M117.161 147.945C120.222 147.735 122.826 146.08 124.275 143.462C125.925 140.476 125.752 137.117 125.294 133.874C124.939 131.359 120.961 132.432 121.316 134.927C121.757 138.056 121.629 143.68 117.165 143.985C114.532 144.167 114.511 148.127 117.165 147.945H117.161Z"
                  fill="#003459"
                />
                <path
                  d="M190.215 141.68C185.131 145.949 186.027 153.45 191.684 156.789C193.954 158.127 196.029 154.701 193.768 153.371C190.252 151.299 190.116 147.018 193.132 144.48C195.134 142.796 192.204 140.004 190.215 141.68Z"
                  fill="#003459"
                />
                <path
                  d="M122.859 142.809C126.548 146.884 131.541 149.34 136.699 151.292C142.753 153.581 149.021 155.629 155.355 157.062C166.884 159.672 179.854 159.653 189.819 152.718C191.948 151.237 189.893 147.799 187.735 149.3C178.401 155.795 166.459 155.613 155.702 153.07C150.04 151.732 144.469 149.898 139.018 147.926C134.079 146.14 129.292 143.894 125.772 140.009C124.027 138.08 121.118 140.892 122.855 142.809H122.859Z"
                  fill="#003459"
                />
                <path
                  d="M143.611 161.336C146.021 162.9 148.072 164.551 150.865 165.514C153.197 166.322 156.37 167.039 158.825 166.401C161.28 165.763 162.238 162.829 160.17 161.209C158.148 159.625 154.682 160.179 152.421 160.916C149.92 161.732 150.993 165.557 153.519 164.734C154.303 164.476 155.062 164.274 155.891 164.219C156.226 164.195 156.556 164.191 156.89 164.211C157.699 164.401 157.827 164.365 157.282 164.104L157.488 162.579C157.336 162.908 154.843 162.44 154.571 162.393C153.424 162.187 152.264 161.854 151.195 161.403C149.132 160.532 147.531 159.11 145.691 157.914C143.487 156.48 141.42 159.91 143.607 161.332L143.611 161.336Z"
                  fill="#003459"
                />
                <path
                  d="M153.288 139.34C153.444 136.967 156.725 135.581 158.862 136.702C161 137.823 160.236 140.504 158.45 141.53C156.176 142.841 158.248 146.262 160.534 144.948C164.99 142.381 165.828 135.965 160.946 133.28C156.065 130.595 149.516 134.009 149.161 139.336C148.992 141.882 153.118 141.87 153.288 139.336V139.34Z"
                  fill="#003459"
                />
                <path
                  d="M198.513 141.224C199.524 140.888 200.341 140.214 200.581 139.177C200.82 138.139 200.333 136.848 199.268 136.333C197.445 135.45 194.894 136.321 194.601 138.396C194.354 140.163 195.909 142.159 197.861 142.064C199.92 141.961 201.15 139.798 200.618 138C200.325 137.006 199.145 136.285 198.08 136.618C197.015 136.951 196.322 137.985 196.64 139.054C196.718 139.319 196.632 138.927 196.627 138.86C196.644 139.24 196.714 138.519 196.652 138.725C196.586 138.955 196.854 138.361 196.727 138.567C196.599 138.773 197.007 138.254 196.834 138.432C196.718 138.539 196.784 138.491 197.024 138.293L197.733 138.115C198.03 138.115 198.422 138.258 198.641 138.456C198.406 138.238 198.732 138.547 198.707 138.575C198.691 138.594 198.489 138.107 198.621 138.491C198.74 138.836 198.645 138.254 198.654 138.642C198.662 138.955 198.641 139.054 198.468 139.347C198.394 139.577 198.237 139.727 197.997 139.798C197.651 139.961 197.589 140.008 197.816 139.937C198.063 139.83 197.738 139.985 197.63 139.957C197.671 139.969 197.837 139.965 197.874 139.953C197.61 140.044 197.123 139.707 196.953 139.569C196.557 139.252 196.442 138.543 196.636 138.099C196.768 137.798 197.09 137.513 197.412 137.406C196.396 137.747 195.612 138.777 195.971 139.842C196.297 140.808 197.42 141.589 198.509 141.224H198.513Z"
                  fill="#003459"
                />
                <path
                  d="M206.581 140.068C205.508 139.862 204.377 139.901 203.56 140.713C202.805 141.462 202.656 142.618 202.966 143.589C203.366 144.852 204.74 145.478 206.04 145.208C206.997 145.01 207.773 144.393 208.268 143.597C208.763 142.8 209.077 141.775 208.842 140.848C208.561 139.735 207.53 138.852 206.316 138.82C205.256 138.792 204.245 139.422 203.717 140.29C203.25 141.062 203.143 141.937 203.176 142.812C203.217 143.846 204.096 144.84 205.239 144.793C206.321 144.745 207.348 143.921 207.303 142.812C207.294 142.61 207.307 142.404 207.299 142.202C207.307 142.056 207.303 142.088 207.282 142.297C207.34 142.119 207.34 142.107 207.282 142.25C207.249 142.353 207.187 142.44 207.092 142.507C206.481 142.959 205.776 142.828 204.975 142.107L204.798 141.533C204.839 141.28 204.827 141.264 204.765 141.49C204.86 141.292 204.876 141.256 204.814 141.383C204.781 141.454 204.744 141.521 204.703 141.589C204.53 141.913 204.777 141.505 204.901 141.434C205.677 140.991 206.894 141.866 206.944 142.697C206.973 141.969 206.514 142.365 205.578 143.89C205.285 143.842 205.252 143.838 205.483 143.882C206.539 144.084 207.761 143.593 208.021 142.499C208.256 141.513 207.711 140.282 206.581 140.064V140.068Z"
                  fill="#003459"
                />
                <path
                  d="M200.119 148.785C200.383 148.354 200.676 147.874 200.651 147.352C200.622 146.773 200.407 146.215 199.966 145.803C199.149 145.039 197.944 144.964 196.954 145.435C195.48 146.132 194.919 148.31 195.757 149.641C196.31 150.52 197.284 151.027 198.357 150.888C199.194 150.781 199.863 150.302 200.366 149.673C200.915 148.991 201.2 148.104 200.956 147.249C200.832 146.813 200.63 146.429 200.308 146.096C199.958 145.732 199.594 145.573 199.124 145.391C198.654 145.209 197.944 145.36 197.535 145.589C197.127 145.819 196.698 146.302 196.586 146.773C196.467 147.28 196.491 147.851 196.793 148.298C197.094 148.746 197.498 149.003 198.026 149.209C197.63 149.098 197.325 148.888 197.114 148.568C196.987 148.223 196.941 148.148 196.982 148.342L196.908 147.815C196.916 147.874 196.912 147.93 196.908 147.989L196.982 147.463C196.925 147.72 197.061 147.348 197.086 147.292C196.954 147.585 197.341 147.055 197.176 147.193C197.114 147.245 196.908 147.415 197.185 147.213C197.329 147.114 197.358 147.09 197.271 147.146C197.131 147.225 197.218 147.189 197.531 147.035L198.08 146.964H197.981C198.163 146.991 198.348 147.015 198.53 147.039C198.059 146.944 198.328 147.158 199.343 147.684C199.458 147.997 199.491 148.049 199.442 147.835L199.516 148.362C199.508 148.239 199.512 148.124 199.52 148.001L199.446 148.528C199.454 148.461 199.462 148.397 199.479 148.33C199.5 148.247 199.611 147.958 199.479 148.286C199.396 148.492 199.268 148.647 199.087 148.785C199.004 148.865 198.905 148.924 198.794 148.956C198.6 149.023 198.579 149.039 198.724 149.011L198.175 149.082H198.266C198.084 149.059 197.899 149.035 197.717 149.015C198.059 149.086 197.857 148.972 197.11 148.667L196.578 147.791L196.599 147.871V146.817C196.838 146.259 196.628 146.667 196.557 146.777C196.009 147.669 196.318 148.987 197.296 149.486C198.274 149.985 199.533 149.728 200.119 148.777V148.785Z"
                  fill="#003459"
                />
                <path
                  d="M115.171 129.312C115.163 129.173 115.089 128.805 115.171 128.686L115.138 128.9C115.155 128.797 115.176 128.694 115.205 128.595C115.229 128.504 115.283 128.215 115.349 128.147C115.246 128.377 115.242 128.393 115.345 128.195C115.105 128.432 115.068 128.488 115.229 128.357L114.317 128.868L114.425 128.84H113.327L113.434 128.856L112.522 128.345L112.601 128.409L112.068 127.533C112.126 126.876 112.11 126.682 112.019 126.951C111.969 127.078 111.99 127.038 112.077 126.828C112.011 126.991 111.932 127.153 111.858 127.316C111.714 127.64 111.569 127.965 111.425 128.29C111 129.24 111.095 130.456 112.163 130.999C113.05 131.446 114.532 131.304 114.986 130.29C115.312 129.553 115.696 128.82 115.972 128.064C116.48 126.674 115.724 125.181 114.144 124.979C111.8 124.678 110.921 127.561 111.045 129.312C111.119 130.341 111.94 131.343 113.108 131.292C114.165 131.248 115.25 130.417 115.171 129.312Z"
                  fill="#003459"
                />
                <path
                  d="M111.524 136.567C109.918 136.539 108.866 137.874 108.557 139.256C108.383 140.032 108.342 140.891 108.833 141.581C109.423 142.412 110.377 142.789 111.404 142.658C112.753 142.484 113.909 141.438 114.206 140.163C114.61 138.42 113.521 136.658 111.573 136.563C110.492 136.507 109.46 137.513 109.51 138.543C109.564 139.664 110.418 140.464 111.573 140.523C110.83 140.456 110.377 140.151 110.207 139.6C110.178 139.26 110.17 139.196 110.178 139.41L110.228 139.109C110.211 139.185 110.191 139.256 110.162 139.327C110.294 139.05 110.319 138.979 110.236 139.109C110.154 139.236 110.199 139.177 110.381 138.935C110.224 139.078 110.269 139.046 110.525 138.84C110.377 138.915 110.389 138.915 110.558 138.84C110.698 138.765 110.851 138.729 111.016 138.741C112.056 140.476 112.568 140.935 112.555 140.119L112.522 140.381C112.543 140.286 112.564 140.194 112.592 140.103C112.617 140.012 112.65 139.921 112.683 139.83L112.58 140.064C112.691 139.886 112.654 139.917 112.469 140.163C112.205 140.385 111.891 140.507 111.524 140.527C112.605 140.547 113.636 139.604 113.587 138.547C113.537 137.489 112.679 136.586 111.524 136.567Z"
                  fill="#003459"
                />
                <path
                  d="M266.666 168.864C263.967 165.668 260.542 163.177 257.443 160.365C255.739 158.817 254.282 157.161 253.709 154.924C253.168 152.825 253.313 150.615 253.428 148.472C253.511 146.963 251.068 146.967 250.985 148.472C250.833 151.347 250.721 154.337 251.86 157.058C252.949 159.652 255.128 161.545 257.253 163.367C259.733 165.494 262.333 167.542 264.479 169.993C265.622 171.3 266.732 172.757 267.165 174.441C267.347 175.142 267.495 176.104 267.165 176.781C266.088 179.007 264.966 177.336 264.264 176.476C263.348 175.355 261.813 176.785 262.345 177.898C263.1 179.466 263.517 181.146 263.517 182.876C263.517 183.629 263.451 184.373 263.299 185.11C263.212 185.53 263.1 185.942 262.968 186.35C262.927 186.999 262.812 187.142 262.618 186.769C262.461 186.738 262.296 186.504 262.131 186.171C261.97 183.843 260.823 181.728 259.956 179.546C259.721 178.837 259.49 178.124 259.255 177.415C258.78 175.977 256.544 176.563 256.903 178.037C257.03 178.559 257.204 179.082 257.406 179.601C258.112 181.835 258.805 184.088 259.7 186.251C259.717 186.508 259.725 186.765 259.709 187.027C259.684 187.625 259.535 188.195 259.251 188.73C258.772 188.952 258.475 188.785 258.367 188.235C257.971 187.803 257.625 186.971 257.373 186.457C256.762 185.201 256.56 183.569 255.669 182.457C254.472 180.959 252.066 181.043 251.402 182.952C250.998 184.124 251.39 185.589 251.385 186.777C251.385 187.455 251.588 188.765 250.985 189.213C250.308 189.716 250.044 187.843 249.871 187.249C248.996 184.215 248.934 181.031 248.179 177.973C247.531 175.348 246.331 172.928 244.573 170.821C240.756 166.246 235.028 163.898 229.049 163.403C227.485 163.272 227.493 165.621 229.049 165.747C236.567 166.369 243.624 170.682 245.658 177.942C246.252 180.064 247.238 195.49 252.401 191.803C253.358 191.122 253.593 190.021 253.709 188.952C253.816 187.989 253.841 187.011 253.816 186.045C253.808 185.704 253.44 183.859 253.956 184.318C254.381 184.698 254.616 186.191 254.856 186.738C255.169 187.455 255.512 188.152 255.908 188.829C256.465 189.787 257.101 190.979 258.264 191.34C259.968 191.867 261.079 190.651 261.66 189.217C262.246 189.649 262.944 189.831 263.757 189.482C265.428 188.762 265.754 185.613 265.894 184.148C266.026 182.781 265.927 181.443 265.642 180.136C267.008 180.397 268.37 179.862 269.224 178.108C270.796 174.884 268.754 171.336 266.653 168.852L266.666 168.864Z"
                  fill="#003459"
                  stroke="#003459"
                  stroke-miterlimit="10"
                />
                <path
                  d="M63.1203 97.6318C62.9758 98.408 61.7461 102.86 60.7682 100.768C60.1451 99.4298 59.9759 97.7981 59.8604 96.3644C59.7283 94.7407 59.7654 93.109 59.7737 91.4852C59.7778 90.2099 59.947 88.7881 59.4683 87.5802C58.7792 85.8416 56.8274 85.2317 55.0489 85.7782C53.6253 86.2178 52.767 87.2515 52.1934 88.4634C51.3021 87.2594 50.2416 86.1703 48.9748 85.3069C47.4397 84.2613 44.7369 83.0296 42.8346 83.8178C40.9323 84.6059 40.9653 87.3663 41.3945 88.9822C41.5884 89.7069 41.8897 90.3763 42.2652 91.006C41.5513 90.8317 40.8292 90.6891 40.0988 90.5782C38.4853 90.3327 36.5583 90.2574 35.2915 91.4377C32.4525 94.0832 35.7454 96.7407 38.7247 98.5783C37.0122 99.1605 35.7371 100.364 35.9146 102.563C36.224 106.357 40.4537 107.363 43.6351 107.953C48.1082 108.78 50.9761 111.434 53.4272 114.99C56.1218 118.903 58.3294 122.891 58.4409 127.684C58.4739 129.212 60.9497 129.216 60.9167 127.684C60.7682 121.169 57.0998 114.662 52.4905 109.973C50.2086 107.652 47.5429 106.273 44.2913 105.66C42.455 105.315 39.8883 105.129 38.7701 103.446C37.0535 100.86 40.5651 100.432 42.3683 100.503C43.6517 100.555 43.9776 98.8952 42.9914 98.2892C41.7741 97.5367 40.5568 96.7882 39.3395 96.0357C38.8443 95.7268 38.213 95.4575 37.8169 95.0337C36.8801 94.0436 37.0081 92.8159 38.4688 92.8001C41.0314 92.7723 43.9446 93.7783 46.012 95.1644C47.1756 95.9446 48.5044 94.2258 47.514 93.2991C46.371 92.2337 45.1578 91.1485 44.3862 89.7941C43.9818 89.0852 43.6723 88.2693 43.6351 87.4495C43.5733 86.1584 43.8662 85.8812 45.1207 86.1584C48.1082 86.8277 50.1302 89.4376 51.4754 91.9089C51.9623 92.804 53.4974 92.602 53.7367 91.6238C53.9884 90.5901 54.8178 87.0851 56.7243 87.9921C57.8054 88.5069 57.2978 91.1644 57.2937 92.1901C57.2813 95.0417 57.2689 98.0001 58.1561 100.749C58.6637 102.321 59.7737 104.357 61.8493 103.945C64.1766 103.485 65.1587 100.127 65.5095 98.2655C65.7901 96.7684 63.405 96.1308 63.1203 97.6318Z"
                  fill="#003459"
                  stroke="#003459"
                  stroke-miterlimit="10"
                />
              </g>
              <defs>
                <clipPath id="clip0_163_1857">
                  <rect
                    width="236"
                    height="189"
                    fill="white"
                    transform="translate(34 42)"
                  />
                </clipPath>
              </defs>
            </svg>
          </div>

          <!-- Loading Text wrapper - Fixed height to prevent layout shift -->
          <div class="min-h-20 flex items-center justify-center">
            <div
              class="text-center space-y-3 transition-opacity duration-300"
              :class="isReady ? 'opacity-0' : 'opacity-100'"
            >
              <h2 class="text-lg sm:text-xl font-bold text-secondary">
                Création de votre profil...
              </h2>

              <!-- Loading dots -->
              <div class="flex space-x-2 justify-center">
                <div class="w-3 h-3 bg-primary rounded-full animate-bounce" />
                <div
                  class="w-3 h-3 bg-primary rounded-full animate-bounce animation-delay-100"
                />
                <div
                  class="w-3 h-3 bg-primary rounded-full animate-bounce animation-delay-200"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- Spacer for absolute button -->
        <div class="pb-24" />
      </div>
    </div>

    <!-- Button - Absolute at bottom -->
    <Transition
      enter-active-class="transition-all duration-300 ease-out"
      enter-from-class="opacity-0 translate-y-8"
      enter-to-class="opacity-100 translate-y-0"
    >
      <div
        v-if="isReady"
        class="absolute bottom-0 left-0 right-0 px-6 pb-6 max-w-2xl mx-auto w-full"
      >
        <Button
          size="xl"
          variant="secondary"
          class="w-full"
          @click="navigateTo('/accueil')"
        >
          Accéder à la plateforme
        </Button>
      </div>
    </Transition>
  </div>
</template>

<script setup lang="ts">
const props = defineProps<{
  isReady?: boolean;
}>();

// Animation du remplissage du background jaune (de bas en haut)
const fillProgress = ref(0);
const fillY = computed(() => 253 - (fillProgress.value / 100) * 253);
const fillHeight = computed(() => (fillProgress.value / 100) * 253);

let animationFrame: number;
let startTime: number | null = null;
const duration = 2000; // 4 secondes pour l'animation

const animate = (timestamp: number) => {
  if (!startTime) startTime = timestamp;
  const elapsed = timestamp - startTime;

  const progress = Math.min(1, elapsed / duration);
  fillProgress.value = progress * 100;

  if (progress < 1 && !props.isReady) {
    animationFrame = requestAnimationFrame(animate);
  } else if (props.isReady) {
    fillProgress.value = 100;
  }
};

// Démarrer l'animation au montage
onMounted(() => {
  if (!props.isReady) {
    animationFrame = requestAnimationFrame(animate);
  } else {
    fillProgress.value = 100;
  }
});

// Arrêter l'animation au démontage
onUnmounted(() => {
  if (animationFrame) {
    cancelAnimationFrame(animationFrame);
  }
});

// Surveiller les changements de isReady
watch(
  () => props.isReady,
  (newValue) => {
    if (newValue) {
      fillProgress.value = 100;
      if (animationFrame) {
        cancelAnimationFrame(animationFrame);
      }
    }
  }
);
</script>

<style scoped>
.animation-delay-100 {
  animation-delay: 0.1s;
}

.animation-delay-200 {
  animation-delay: 0.2s;
}
</style>
